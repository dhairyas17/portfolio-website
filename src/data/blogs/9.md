> _"Shipping software at the edge means building reliability twice: once in the cloud, once in deployment."_

Scaling to 1,200+ Jetson edge devices taught me that success isn’t just about deploying models — it's about building product-grade infrastructure that behaves like a SaaS backend, even when your users are offline, remote, or on flaky 4G connections.

This post is a behind-the-scenes look at how we operationalized observability and OTA updates for our fleet of NVIDIA Jetsons, with the mindset of a TPM solving infrastructure as product.

---

## 🛠️ Problem Statement

As our edge deployments scaled beyond 100 units, we hit consistent pain points:

- **Manual updates**: Engineers SSHing into devices to fix bugs was a bottleneck.
- **Poor visibility**: We had no insight into device status, logs, or model health.
- **Inconsistent versions**: Devices would drift in terms of firmware, model version, and supporting code.

It was clear we needed a **reliable OTA pipeline** and **fleet-wide observability** — and fast.

---

## 🔧 Architecture We Built

Here’s how we approached it with a SaaS-product lens:

### OTA Update Pipeline

| Component        | Tools / Stack                      | Notes |
|------------------|------------------------------------|-------|
| Image Build      | Docker, Yocto, JetPack             | Custom base images per device class |
| Update Server    | Nginx + Airflow                    | Airflow DAGs controlled versioned rollouts |
| Device Agent     | Python Daemon (gRPC + OTA logic)   | Pulled updates securely, handled reboots |
| Fail-Safe Logic  | A/B Partitions, Watchdog Services  | Rollbacks if update fails or hangs |
| Monitoring       | Device heartbeat to Cloud PubSub   | Realtime liveness & diagnostics |

### Observability Stack

| Metric Type         | Source                      | Tooling                     |
|---------------------|-----------------------------|-----------------------------|
| Device Health       | CPU, Temp, Storage, Uptime  | Telegraf → InfluxDB         |
| App Logs            | CV App, Firmware Logs       | Fluentd → Loki              |
| Model Metrics       | FPS, Inference Latency      | Embedded Prometheus Exporter |
| Alerts              | Offline, Overheating, etc.  | Grafana Alerts + Slack      |

---

## 🎯 What Made It Work

### ✅ Think Like a SaaS Product

We borrowed concepts from cloud engineering:
- **Version control** everything: from firmware to config to model.
- **Canary releases** for OTA rollouts — Airflow DAGs helped us orchestrate safe deployment waves.
- **Retries & Rollbacks** — Fail gracefully, every time.

### ✅ Edge-first UX for Engineers

We weren't building for end-users. We were building for the ops, CV, and ML engineers managing the fleet:
- Simple CLI + Grafana dashboards
- Push alerts to Slack channels
- Visual diff of model versions and metrics pre/post-deployment

### ✅ Cross-functional Product Thinking

This was not just infra — it was a product:
- **PMs** pushed for faster updates for customer bugs.
- **Ops** flagged real-world issues (network drops, storage fills).
- **ML engineers** wanted better traceability for field model failures.

We aligned via weekly *“EdgeOps Standups”* that focused on the fleet as a user persona.

---

## 💬 Pull-Quote

> “In Edge AI, shipping a feature means shipping reliability – twice: once in code, once in deployment.”

---

## ✨ Lessons I'd Apply Next Time

- **Build OTA & Observability together** — Visibility is what enables safe updates.
- **Document every edge device like it’s a cloud instance** — treat them like living, versioned users.
- **Start canarying early** — Even at 20 devices, staged rollouts pay off.
- **Design for disconnection** — flaky connectivity is not an edge-case, it *is* the edge.

---

## 🔮 What’s Next

We’re now exploring:
- Federated OTA triggers (model updates only if local data shifts)
- Model version benchmarking via real-time metrics
- Auto-healing workflows triggered from observability stack

If you’re building something similar, or curious about edge SaaS infra — I’d love to connect.
